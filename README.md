# cafe-order

카페 주문 금액 계산 프로그램 리팩터링

## 요구사항

- 아래 메뉴판을 가진 간단한 카페의 주문 시스템을 개선한다.

| 메뉴명   | 가격   |
|-------|------|
| 아메리카노 | 1500 |
| 라떼    | 2000 |
| 모카    | 2500 |
| 크로와상  | 3000 |

- 사용자는 메뉴와 개수를 입력하여 주문을 할 수 있다.
- 주문을 마친 후 총액을 계산하여 알려준다.
- 프로모션을 적용할 수 있다.
  - 대형 손님 환영: 음료를 5잔 이상 주문하면, 전체 음료 가격에서 10% 할인
  - 아메리카노 할인: 아메리카노 1잔 당 300원 할인

## 수정 전략

- 존재하지 않는 메뉴가 음료 개수를 셀 때 포함된다! -> 존재하지 않는 메뉴는 미리 제외한다.
- 특정 메뉴의 수량이 0 이하일 경우에도 전체 가격 계산에 포함된다! -> 수량이 0 이하인 메뉴는 미리 제외한다.

## 리팩터링 전략

- `calculateTotalPrice()` 메서드의 호흡이 너무 길다.
  - 필터링하는 기능, 총가격 구하는 기능, 할인 등의 역할이 혼재되어 있다.
  - **큰 흐름별로 메서드를 나누어 가독성을 향상시키자!**
- 가능한 아이템들의 종류, 아이템의 가격등을 `CafeOrder`에서 처리하는 것은 책임에 맞지 않다.
  - `CafeOrder`의 책임은 문제있는 주문들을 필터링하고, 적절한 할인을 적용하는 것이라 생각
  - **`CafeItems` 같은 객체에게 역할을 위임하자!**
- 거의 모든 기능이 `String`을 기반으로 동작하고 있다.
  - 해당 객체에게 책임을 추가할 수 없으니 `CafeOrder`가 많은 책임을 지고 있다.
  - `CafeItems`를 기반으로 동작하게 하고, `CafeItems`에게 책임을 위임하자.
